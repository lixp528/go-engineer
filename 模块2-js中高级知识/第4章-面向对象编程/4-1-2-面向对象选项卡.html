<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>


    <style>
        p{
            display: none;
        }
    </style>
</head>
<body>
    <div id="div1">
        <input type="button"  value="按钮1" style="background: yellow;">
        <input type="button"  value="按钮2">
        <input type="button"  value="按钮3">

        <p style="display: block;">内容1</p>
        <p>内容2</p>
        <p>内容3</p>
    </div>

    <div id="div2">
        <input type="button"  value="按钮1" style="background: yellow;">
        <input type="button"  value="按钮2">
        <input type="button"  value="按钮3">

        <p style="display: block;">内容1</p>
        <p>内容2</p>
        <p>内容3</p>    
    </div>
    <hr>
    <input type="button" value="stop" id="stop">

    <!-- 两个问题
        1 autoplay没跑通
        2 在点击的时候 index 是如何加进去的 第55 56行
    -->
    <script>
        window.onload=function(){

            function Tab(obj){
                this.btns=obj.querySelectorAll('input');
                this.ps=obj.querySelectorAll('p');
                this.length=this.btns.length;
                this.index=0;
            
                var This=this;
                for(var i=0;i<this.length;i++){
                    this.btns[i].index=i;
                    this.btns[i].onclick=function(){
                        console.dir(this);
                        console.log(this.index);
                        This.index=this.index;                      
                        This.play();
                    };
                }


            }

            Tab.prototype.play=function(){
                for(var i=0;i<this.length;i++){
                    this.btns[i].style.background='';
                    this.ps[i].style.display='none';
                }
                this.btns[this.index].style.background='yellow';
                this.ps[this.index].style.display='block';
            }

            Tab.prototype.autoPlay=function(){
                var This=this;
                this.timer=setInterval(function(){
                    This.index++;
                    if(This.index==This.length){
                        This.index=0;
                    }
                    This.play();
                },1000);
            }

            Tab.prototype.stop=function(){
                clearInterval(this.timer);
            };

            stop.onclick=function(){
                tab2.stop();
            };


            var div1=document.getElementById('div1');
            var div2=document.getElementById('div2');
            var div2=document.getElementById('stop');
            
            var tab1=new Tab(div1);
            var tab2=new Tab(div2);
            //tab2.autoPlay();

        
    }
    </script>
</body>
</html>